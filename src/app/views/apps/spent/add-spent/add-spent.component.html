<div class="row">
  <!-- <div class="col-xl-6 col-lg-8">
    <app-product-photo />
  </div> -->
  <!-- <div class="col-xl-6 col-lg-8"> -->
  <div class="col-lg-12">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title mb-0"> {{ isEdit ? 'Editar' : 'Crear' }} Gasto</h4>
      </div>
      <div class="card-body">
        <form [formGroup]="formGroup">
          <div class="row">
            <div class="col-12 row">
              <!-- quiero un radio button con las opciones producto o ingrediente porfdefult ninguno -->
              <label class="form-label">Tipo de Gasto</label>
              <div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" id="isProductTrue" formControlName="isProduct"
                    [value]="true" />
                  <label class="form-check-label" for="isProductTrue">Producto</label>
                </div>
                <div class="form-check form-check-inline">
                  <input class="form-check-input" type="radio" id="isProductFalse" formControlName="isProduct"
                    [value]="false" />
                  <label class="form-check-label" for="isProductFalse">Ingrediente</label>
                </div>
              </div>
            </div>
            @if (formGroup.get('isProduct').value) {
            <div class="col-lg-4">
              <div class="mb-3">
                <label for="product" class="form-label">Productos</label>
                <select selectFormInput [defaultValue]="formGroup.get('itemId').value" [tigerValue]="resetEmitter"
                  class="form-control" id="product" data-choices data-choices-groups data-placeholder="Select Product"
                  formControlName="itemId">
                  @for (item of products; track $index) {
                  <option [value]="item.productId">{{ item.name }}</option>
                  }
                </select>
              </div>
            </div>
            }
            @else if(formGroup.get('isProduct').value != null) {
            <div class="col-lg-4">
              <div class="mb-3">
                <label for="ingredient" class="form-label">Ingredientes</label>
                <select selectFormInput [defaultValue]="formGroup.get('itemId').value" [tigerValue]="resetEmitter"
                  class="form-control" id="ingredient" data-choices data-choices-groups
                  data-placeholder="Select Ingredient" formControlName="itemId">
                  @for (item of ingredients; track $index) {
                  <option [value]="item.id">{{ item.name }}</option>
                  }
                </select>
              </div>
            </div>
            }
            <div class="mb-3 col-4">
              <label for="quantity" class="form-label">Cantidad</label>
              <div class="d-flex align-items-center gap-2 ">
                <input type="number" id="quantity" class="form-control" formControlName="quantity" />
                <span>{{ getBaseUnitNameById() }}</span>
              </div>
            </div>

            <div class="mb-3 col-4">
              <label for="totalCost" class="form-label">Costo Total</label>
              <input type="number" id="totalCost" class="form-control" formControlName="totalCost" />
            </div>
            <div class="mb-3">
              <label for="note" class="form-label">Nota</label>
              <textarea id="note" class="form-control" formControlName="note"></textarea>
            </div>
          </div>
        </form>
      </div>
    </div>
    <div class="p-3 mb-3 rounded">
      <div class="row justify-content-end g-2">
        <div class="col-lg-3">
          <div class="btn btn-outline-secondary w-100"><i class="ri-close-circle-lineri-save-line"
              [routerLink]="['/categories/listing']"></i> Cancelar</div>
        </div>
        <div class="col-lg-4" (click)="save()">
          <div class="btn btn-primary w-100" [ngClass]="formGroup.invalid ? 'btn-invalid' : ''"><i
              class="ri-save-line"></i>
            Guardar Cambios</div>
        </div>
      </div>
    </div>
  </div>
</div>
